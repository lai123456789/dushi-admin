<template>
  <a-drawer
    :visible="visible"
    :destroyOnClose="true"
    :width="600"
    :title="config.title"
    @close="visible=!visible"
  >
    <a-spin :spinning="false">
      <a-tabs v-model="tabKey" size="small">
        <a-tab-pane key="outlined">
          <span slot="tab">
            <a-icon type="align-center" />
            线框风格
          </span>
          <a-input-search placeholder="请输入图标名称搜索" enter-button @change="onSearch('frame')" v-model="frameValue"/>
          <div v-for="(item,index) in frameData" :key="index">
            <div class="title" v-if="item[1].length !== 0">{{ item[0] }}</div>
            <ul>
              <li v-for="(myitem,myindex) in item[1]" :key="myindex" @click="handleClick(myitem)">
                <span>
                  <a-icon :type="myitem"></a-icon>
                </span>
                <span>{{ myitem }}</span>
              </li>
            </ul>
          </div>
        </a-tab-pane>
        <a-tab-pane key="filled">
          <span slot="tab">
            <a-icon type="star" theme="filled"/>
            实线风格
          </span>
          <a-input-search placeholder="请输入图标名称搜索" enter-button @change="onSearch('solid')" v-model="solidValue"/>
          <div v-for="(item,index) in solidData" :key="index" >
            <div class="title" v-if="item[1].length !==0">{{ item[0] }}</div>
            <ul>
              <li v-for="(myitem,myindex) in item[1]" :key="myindex" @click="handleClick(myitem)">
                <span>
                  <a-icon :type="myitem" theme="filled"></a-icon>
                </span>
                <span>{{ myitem }}</span>
              </li>
            </ul>
          </div>
        </a-tab-pane>
        <a-tab-pane key="twoTone" >
          <span slot="tab">
            <a-icon type="check-circle" theme="twoTone"/>
            双色风格
          </span>
          <a-input-search placeholder="请输入图标名称搜索" enter-button @change="onSearch('two')" v-model="twoValue"/>
          <div v-for="(item,index) in twoData" :key="index" >
            <div class="title" v-if="item[1].length !==0">{{ item[0] }}</div>
            <ul>
              <li v-for="(myitem,myindex) in item[1]" :key="myindex" @click="handleClick(myitem)">
                <span>
                  <a-icon :type="myitem" theme="twoTone"></a-icon>
                </span>
                <span>{{ myitem }}</span>
              </li>
            </ul>
          </div>
        </a-tab-pane>
      </a-tabs>
      <div class="bbar">
        <a-button @click="visible=!visible">关闭</a-button>
      </div>
    </a-spin>
  </a-drawer>
</template>
<script>
export default {
  data () {
    return {
      visible: false,
      frameData: [],
      frameValue: '',
      frameInitData: [ [
        '方向性图标', [
          'step-backward',
          'step-forward',
          'fast-backward',
          'fast-forward',
          'shrink',
          'arrows-alt',
          'down',
          'up',
          'left',
          'right',
          'caret-up',
          'caret-down',
          'caret-left',
          'caret-right',
          'up-circle',
          'down-circle',
          'left-circle',
          'right-circle',
          'double-right',
          'double-left',
          'vertical-left',
          'vertical-right',
          'vertical-align-top',
          'vertical-align-middle',
          'vertical-align-bottom',
          'forward',
          'backward',
          'rollback',
          'enter',
          'retweet',
          'swap',
          'swap-left',
          'swap-right',
          'arrow-up',
          'arrow-down',
          'arrow-left',
          'arrow-right',
          'play-circle',
          'up-square',
          'down-square',
          'left-square',
          'right-square',
          'login',
          'logout',
          'menu-fold',
          'menu-unfold',
          'border-bottom',
          'border-horizontal',
          'border-inner',
          'border-outer',
          'border-left',
          'border-right',
          'border-top',
          'border-verticle',
          'pic-center',
          'pic-left',
          'pic-right',
          'radius-bottomleft',
          'radius-bottomright',
          'radius-upleft',
          'radius-upright',
          'fullscreen',
          'fullscreen-exit'
        ] ], [
        '提示建议性图标', [
          'question',
          'question-circle',
          'plus',
          'plus-circle',
          'pause',
          'pause-circle',
          'minus',
          'minus-circle',
          'plus-square',
          'minus-square',
          'info',
          'info-circle',
          'exclamation',
          'exclamation-circle',
          'close',
          'close-circle',
          'close-square',
          'check',
          'check-circle',
          'check-square',
          'clock-circle',
          'warning',
          'issues-close',
          'stop'
        ] ], [
        '编辑类图标', [
          'edit',
          'form',
          'copy',
          'scissor',
          'delete',
          'snippets',
          'diff',
          'highlight',
          'align-center',
          'align-left',
          'align-right',
          'bg-colors',
          'bold',
          'italic',
          'underline',
          'strikethrough',
          'redo',
          'undo',
          'zoom-in',
          'zoom-out',
          'font-colors',
          'font-size',
          'line-height',
          'dash',
          'small-dash',
          'sort-ascending',
          'sort-descending',
          'drag',
          'ordered-list',
          'unordered-list',
          'radius-setting',
          'column-width',
          'column-height'
        ] ], [
        '数据类图标', [
          'area-chart',
          'pie-chart',
          'bar-chart',
          'dot-chart',
          'line-chart',
          'radar-chart',
          'heat-map',
          'fall',
          'rise',
          'stock',
          'box-plot',
          'fund',
          'sliders'
        ] ], [
        '品牌和标识', [
          'android',
          'apple',
          'windows',
          'ie',
          'chrome',
          'github',
          'aliwangwang',
          'dingding',
          'weibo-square',
          'weibo-circle',
          'taobao-circle',
          'html5',
          'weibo',
          'twitter',
          'wechat',
          'youtube',
          'alipay-circle',
          'taobao',
          'skype',
          'qq',
          'medium-workmark',
          'gitlab',
          'medium',
          'linkedin',
          'google-plus',
          'dropbox',
          'facebook',
          'codepen',
          'code-sandbox',
          'amazon',
          'google',
          'codepen-circle',
          'alipay',
          'ant-design',
          'ant-cloud',
          'aliyun',
          'zhihu',
          'slack',
          'slack-square',
          'behance',
          'behance-square',
          'dribbble',
          'dribbble-square',
          'instagram',
          'yuque',
          'alibaba',
          'yahoo',
          'reddit',
          'sketch'
        ] ], [
        '网站通用图标', [
          'account-book',
          'alert',
          'api',
          'appstore',
          'audio',
          'bank',
          'bell',
          'book',
          'bug',
          'bulb',
          'calculator',
          'build',
          'calendar',
          'camera',
          'car',
          'carry-out',
          'cloud',
          'code',
          'compass',
          'contacts',
          'container',
          'control',
          'credit-card',
          'crown',
          'customer-service',
          'dashboard',
          'database',
          'dislike',
          'environment',
          'experiment',
          'eye-invisible',
          'eye',
          'file-add',
          'file-excel',
          'file-exclamation',
          'file-image',
          'file-markdown',
          'file-pdf',
          'file-ppt',
          'file-text',
          'file-unknown',
          'file-word',
          'file-zip',
          'file',
          'filter',
          'fire',
          'flag',
          'folder-add',
          'folder',
          'folder-open',
          'frown',
          'funnel-plot',
          'gift',
          'hdd',
          'heart',
          'home',
          'hourglass',
          'idcard',
          'insurance',
          'interaction',
          'layout',
          'like',
          'lock',
          'mail',
          'medicine-box',
          'meh',
          'message',
          'mobile',
          'money-collect',
          'pay-circle',
          'notification',
          'phone',
          'picture',
          'play-square',
          'printer',
          'profile',
          'project',
          'pushpin',
          'property-safety',
          'read',
          'reconciliation',
          'red-envelope',
          'rest',
          'rocket',
          'safety-certificate',
          'save',
          'schedule',
          'security-scan',
          'setting',
          'shop',
          'shopping',
          'skin',
          'smile',
          'sound',
          'star',
          'switcher',
          'tablet',
          'tag',
          'tags',
          'tool',
          'thunderbolt',
          'trophy',
          'unlock',
          'usb',
          'video-camera',
          'wallet',
          'apartment',
          'audit',
          'barcode',
          'bars',
          'block',
          'border',
          'branches',
          'ci',
          'cloud-download',
          'cloud-server',
          'cloud-sync',
          'cloud-upload',
          'cluster',
          'coffee',
          'copyright',
          'deployment-unit',
          'desktop',
          'disconnect',
          'dollar',
          'download',
          'ellipsis',
          'euro',
          'exception',
          'export',
          'file-done',
          'file-jpg',
          'file-protect',
          'file-sync',
          'file-search',
          'fork',
          'gateway',
          'global',
          'gold',
          'history',
          'import',
          'inbox',
          'key',
          'laptop',
          'link',
          'line',
          'loading-3-quarters',
          'loading',
          'man',
          'menu',
          'monitor',
          'more',
          'number',
          'percentage',
          'paper-clip',
          'pound',
          'poweroff',
          'pull-request',
          'qrcode',
          'reload',
          'safety',
          'robot',
          'scan',
          'search',
          'select',
          'shake',
          'share-alt',
          'shopping-cart',
          'solution',
          'sync',
          'table',
          'team',
          'to-top',
          'trademark',
          'transaction',
          'upload',
          'user-add',
          'user-delete',
          'usergroup-add',
          'user',
          'usergroup-delete',
          'wifi',
          'woman'
        ] ]],
      solidData: [],
      solidValue: '',
      solidInitData: [ [
        '方向性图标', [
          'step-backward',
          'step-forward',
          'fast-backward',
          'fast-forward',
          'caret-up',
          'caret-down',
          'caret-left',
          'caret-right',
          'up-circle',
          'down-circle',
          'left-circle',
          'right-circle',
          'forward',
          'backward',
          'play-circle',
          'up-square',
          'down-square',
          'left-square',
          'right-square'
        ] ], [
        '提示建议性图标', [
          'question-circle',
          'plus-circle',
          'pause-circle',
          'minus-circle',
          'plus-square',
          'minus-square',
          'info-circle',
          'exclamation-circle',
          'close-circle',
          'close-square',
          'check-circle',
          'check-square',
          'clock-circle',
          'warning',
          'stop'
        ] ], [
        '编辑类图标', [
          'edit',
          'copy',
          'delete',
          'snippets',
          'diff',
          'highlight'
        ] ], [
        '数据类图标', [
          'pie-chart',
          'box-plot',
          'fund',
          'sliders'
        ] ], [
        '品牌和标识', [
          'android',
          'apple',
          'windows',
          'chrome',
          'github',
          'aliwangwang',
          'weibo-square',
          'weibo-circle',
          'taobao-circle',
          'html5',
          'wechat',
          'youtube',
          'alipay-circle',
          'skype',
          'gitlab',
          'linkedin',
          'facebook',
          'code-sandbox-circle',
          'codepen-circle',
          'slack-square',
          'behance-square',
          'dribbble-square',
          'instagram',
          'yuque',
          'yahoo'
        ] ], [
        '网站通用图标', [
          'account-book',
          'alert',
          'alipay-square',
          'amazon-circle',
          'amazon-square',
          'api',
          'appstore',
          'audio',
          'bank',
          'behance-circle',
          'bell',
          'book',
          'bug',
          'bulb',
          'calculator',
          'build',
          'calendar',
          'camera',
          'car',
          'carry-out',
          'ci-circle',
          'cloud',
          'code-sandbox-square',
          'code',
          'compass',
          'codepen-square',
          'contacts',
          'container',
          'control',
          'copyright-circle',
          'credit-card',
          'crown',
          'customer-service',
          'dashboard',
          'dingtalk-circle',
          'database',
          'dingtalk-square',
          'dislike',
          'dollar-circle',
          'dribbble-circle',
          'dropbox-circle',
          'dropbox-square',
          'environment',
          'euro-circle',
          'experiment',
          'eye-invisible',
          'eye',
          'file-add',
          'file-excel',
          'file-exclamation',
          'file-image',
          'file-markdown',
          'file-pdf',
          'file-ppt',
          'file-text',
          'file-unknown',
          'file-word',
          'file-zip',
          'file',
          'filter',
          'fire',
          'flag',
          'folder-add',
          'folder',
          'folder-open',
          'frown',
          'funnel-plot',
          'gift',
          'golden',
          'google-circle',
          'google-plus-circle',
          'google-plus-square',
          'google-square',
          'hdd',
          'heart',
          'home',
          'hourglass',
          'idcard',
          'ie-circle',
          'ie-square',
          'insurance',
          'interaction',
          'layout',
          'like',
          'lock',
          'mail',
          'medicine-box',
          'medium-circle',
          'medium-square',
          'meh',
          'message',
          'mobile',
          'money-collect',
          'pay-circle',
          'notification',
          'phone',
          'picture',
          'play-square',
          'pound-circle',
          'printer',
          'profile',
          'project',
          'pushpin',
          'property-safety',
          'qq-circle',
          'qq-square',
          'read',
          'reconciliation',
          'red-envelope',
          'reddit-circle',
          'reddit-square',
          'rest',
          'rocket',
          'safety-certificate',
          'save',
          'schedule',
          'security-scan',
          'setting',
          'shop',
          'shopping',
          'sketch-circle',
          'sketch-square',
          'skin',
          'slack-circle',
          'smile',
          'sound',
          'star',
          'switcher',
          'tablet',
          'tag',
          'tags',
          'taobao-square',
          'tool',
          'thunderbolt',
          'trademark-circle',
          'twitter-circle',
          'trophy',
          'twitter-square',
          'unlock',
          'usb',
          'video-camera',
          'wallet',
          'zhihu-circle',
          'zhihu-square'
        ] ]],
      twoData: [],
      twoValue: '',
      twoInitData: [ [
        '方向性图标', [
          'up-circle',
          'down-circle',
          'left-circle',
          'right-circle',
          'play-circle',
          'up-square',
          'down-square',
          'left-square',
          'right-square'
        ] ], [
        '提示建议性图标', [
          'question-circle',
          'plus-circle',
          'pause-circle',
          'minus-circle',
          'plus-square',
          'minus-square',
          'info-circle',
          'exclamation-circle',
          'close-circle',
          'close-square',
          'check-circle',
          'check-square',
          'clock-circle',
          'warning',
          'stop'
        ] ], [
        '编辑类图标', [
          'edit',
          'copy',
          'delete',
          'snippets',
          'diff',
          'highlight'
        ] ], [
        '数据类图标', [
          'pie-chart',
          'box-plot',
          'fund',
          'sliders'
        ] ], [
        '品牌和标识', [
          'html5'
        ] ], [
        '网站通用图标', [
          'account-book',
          'alert',
          'api',
          'appstore',
          'audio',
          'bank',
          'bell',
          'book',
          'bug',
          'bulb',
          'calculator',
          'build',
          'calendar',
          'camera',
          'car',
          'carry-out',
          'cloud',
          'code',
          'compass',
          'contacts',
          'container',
          'control',
          'credit-card',
          'crown',
          'customer-service',
          'dashboard',
          'database',
          'dislike',
          'environment',
          'experiment',
          'eye-invisible',
          'eye',
          'file-add',
          'file-excel',
          'file-exclamation',
          'file-image',
          'file-markdown',
          'file-pdf',
          'file-ppt',
          'file-text',
          'file-unknown',
          'file-word',
          'file-zip',
          'file',
          'filter',
          'fire',
          'flag',
          'folder-add',
          'folder',
          'folder-open',
          'frown',
          'funnel-plot',
          'gift',
          'hdd',
          'heart',
          'home',
          'hourglass',
          'idcard',
          'insurance',
          'interaction',
          'layout',
          'like',
          'lock',
          'mail',
          'medicine-box',
          'meh',
          'message',
          'mobile',
          'money-collect',
          'notification',
          'phone',
          'picture',
          'play-square',
          'pound-circle',
          'printer',
          'profile',
          'project',
          'pushpin',
          'property-safety',
          'reconciliation',
          'red-envelope',
          'rest',
          'rocket',
          'safety-certificate',
          'save',
          'schedule',
          'security-scan',
          'setting',
          'shop',
          'shopping',
          'skin',
          'smile',
          'sound',
          'star',
          'switcher',
          'tablet',
          'tag',
          'tags',
          'tool',
          'thunderbolt',
          'trademark-circle',
          'trophy',
          'unlock',
          'usb',
          'video-camera',
          'wallet',
          'ci',
          'copyright',
          'dollar',
          'euro',
          'gold'
        ] ]],
      tabKey: 'outlined',
      config: {
        title: '选择图标'
      }
    }
  },
  created () {
    this.frameData = this.frameInitData
    this.solidData = this.solidInitData
    this.twoData = this.twoInitData
  },
  methods: {
    show (config) {
      this.config = Object.assign(this.config, config)
      this.visible = true
    },
    // 搜索
    onSearch (type) {
      let value, myMap
      const arr = []
      switch (type) {
        case 'frame':
          value = this.frameValue
          myMap = new Map(this.frameInitData)
          myMap.forEach((item, index) => {
            item = this.getValue(item, value)
            myMap.set(index, item)
            arr.push([index, [...item]])
          })
          this.frameData = arr
          break
        case 'solid':
          value = this.solidValue
          myMap = new Map(this.solidInitData)
          myMap.forEach((item, index) => {
            item = this.getValue(item, value)
            myMap.set(index, item)
            arr.push([index, [...item]])
          })
          this.solidData = arr
          break
        case 'two':
          value = this.twoValue
          myMap = new Map(this.twoInitData)
          myMap.forEach((item, index) => {
            item = this.getValue(item, value)
            myMap.set(index, item)
            arr.push([index, [...item]])
          })
          this.twoData = arr
          break
        default:
          break
      }
    },
    getValue (arr, val) {
      return arr.filter(item => {
        return item.indexOf(val) !== -1
      })
    },
    // 获取icon的type
    handleClick (myitem) {
      this.visible = false
      this.$emit('ok', { theme: this.tabKey, type: myitem })
    }
  }
}
</script>
<style lang="less" scoped>
.title {
  font-size: 16px;
  color:  #0d1a26;
  margin-top: 10px;
}
ul {
  margin: 0;
  padding: 0;
  list-style: none;
  overflow: hidden;
  display: flex;
  flex-wrap: wrap;
  li {
    width: 90px;
    height: 90px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    text-align: center;
    list-style: none;
    cursor: pointer;
    color: #555;
    position: relative;
    border-radius: 4px;
    background-color: #fff;
    overflow: hidden;
    transition: all 0.3s;
    span:first-child {
      height: 50px;
      line-height: 50px;
      font-size: 30px;
    }
    span:last-child {
      height: 40px;
      line-height: 20px;
    }
  }
  li:hover {
    background: rgb(24,144,255);
    color: #fff;
    span:first-child {
      font-size: 40px;
    }
  }
}
</style>
