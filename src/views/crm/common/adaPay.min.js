/* eslint-disable */
!(function (e, t) { typeof exports === 'object' && typeof module === 'object' ? module.exports = t() : typeof define === 'function' && define.amd ? define([], t) : typeof exports === 'object' ? exports.AdaPay = t() : e.AdaPay = t() }(this, function () {
  return (function (e) { function t (r) { if (n[r]) return n[r].exports; var o = n[r] = { i: r, l: !1, exports: {} }; return e[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports } var n = {}; return t.m = e, t.c = n, t.i = function (e) { return e }, t.d = function (e, n, r) { t.o(e, n) || Object.defineProperty(e, n, { configurable: !1, enumerable: !0, get: r }) }, t.n = function (e) { var n = e && e.__esModule ? function () { return e.default } : function () { return e }; return t.d(n, 'a', n), n }, t.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, t.p = '/', t(t.s = 7) }([function (e, t, n) { 'use strict'; var r = {}; e.exports = r, r.channelConfig = { alipay_qr: 'alipay_qr', alipay_wap: 'alipay_wap', wx_qr: 'wx_qr', wx_pub: 'wx_pub', alipay_lite: 'alipay_lite' }, r.chackMsg = { orderError: '发起支付失败', channelError: '支付渠道参数错误', amountError: '支付金额参数错误', queryUrlError: '支付结果url参数未知' }, r.payStatus = { succeeded: 'succeeded', failed: 'failed', pending: 'pending', timeout: 'timeout', cancel: 'unknown', unknown: 'unknown', paramError: 'paramError' }, r.payResult = { succeeded: { result_status: r.payStatus.succeeded, result_message: '订单支付成功', result_info: {} }, failed: { result_status: r.payStatus.failed, result_message: '订单支付失败', result_info: {} }, pending: { result_status: r.payStatus.pending, result_message: '订单支付中', result_info: {} }, timeout: { result_status: r.payStatus.timeout, result_message: '订单支付超时', result_info: {} }, cancel: { result_status: r.payStatus.cancel, result_message: '支付取消', result_info: {} }, unknown: { result_status: r.payStatus.unknown, result_message: '订单结果未知', result_info: {} }, paramError: { result_status: r.payStatus.paramError, result_message: '参数错误', result_info: {} } } }, function (e, t, n) { 'use strict'; e.exports = { os: (function () { var e = navigator.userAgent; var t = /(?:Windows Phone)/.test(e); var n = /(?:SymbianOS)/.test(e) || t; var r = /(?:Android)/.test(e); var o = /(?:Firefox)/.test(e); var a = (/(?:Chrome|CriOS)/.test(e), /(?:iPad|PlayBook)/.test(e) || r && !/(?:Mobile)/.test(e) || o && /(?:Tablet)/.test(e)); var i = /(?:iPhone)/.test(e) && !a; return { isTablet: a, isPhone: i, isAndroid: r, isPc: !i && !r && !n } }()), app: (function () { var e = navigator.userAgent.toLowerCase(); return e.match(/Alipay/i) == 'alipay' ? 'alipay' : e.match(/MicroMessenger/i) == 'micromessenger' ? 'wechat' : 'other' }()) } }, function (e, t, n) { 'use strict'; var r = n(0); var o = n(6); var a = n(4); var i = n(8); var s = n(5); var u = n(1); o.defaults.timeout = 6e4, o.defaults.headers = { 'Content-Type': 'application/json', Accept: 'application/json' }, e.exports = { doPay: function (e, t, n) { var o = this.checkpayment(e); if (o) return r.payResult.paramError.result_message = o, void n(r.payResult.paramError); e.pay_channel === r.channelConfig.alipay_qr || e.pay_channel === r.channelConfig.wx_qr ? this.handlePayResult(e.query_url, t).then(function (e) { n(e) }) : e.pay_channel === r.channelConfig.alipay_wap || e.pay_channel === r.channelConfig.alipay_lite ? this.aliPay(e, t, function (e) { n(e) }) : e.pay_channel === r.channelConfig.wx_pub ? this.wxPay(e, t, function (e) { n(e) }) : (r.payResult.paramError.result_message = r.chackMsg.channelError, n(r.payResult.paramError)) }, query: function (e, t) { this.requestPayResult(e.query_url).then(function (e) { t(e) }) }, aliPay: function (e, t, n) { s.wapFunc(e), this.handlePayResult(e.query_url, t).then(function (e) { n(e) }) }, wxPay: function (e, t, n) { if (e.prod_mode === 'false') { var o = e.expend.pay_info + '?payment_id=' + e.id + '&pay_channel=' + e.pay_channel; u.os.isPc ? window.open(o) : window.location.href = o, this.handlePayResult(e.query_url, t).then(function (e) { n(e) }) } else { var a = this; var s = JSON.parse(e.expend.pay_info); i.wxPay(s, function (o) { o === r.payStatus.cancel ? n(r.payResult.cancel) : o === r.payStatus.failed ? n(r.payResult.failed) : a.handlePayResult(e.query_url, t).then(function (e) { n(e) }) }) } }, handlePayResult: function (e, t) { var n = 0; var o = this; var i = void 0; var s = {}; return new a(function (a, u) { i = setInterval(function () { n > t && (clearInterval(i), r.payResult.timeout.result_info = s, a(r.payResult.timeout)), n += 1, o.requestPayResult(e).then(function (e) { s = e.result_info, e.result_status !== r.payStatus.succeeded && e.result_status !== r.payStatus.failed || (clearInterval(i), a(e)) }) }, 3e3) }) }, requestPayResult: function (e) { return new a(function (t, n) { o.get(e).then(function (e) { var n = e.data; n.status === r.payStatus.succeeded ? (r.payResult.succeeded.result_info = n, t(r.payResult.succeeded)) : n.status === r.payStatus.pending ? (r.payResult.pending.result_info = n, t(r.payResult.pending)) : (r.payResult.unknown.result_info = n, t(r.payResult.unknown)) }).catch(function (e) { if (e && e.response) { var n = e.response.data; r.payResult.failed.result_info = n, t(r.payResult.failed) } else r.payResult.unknown.result_info = {}, t(r.payResult.unknown) }) }) }, checkpayment: function (e) { var t = Object.values(r.channelConfig); return e.status !== 'succeeded' ? r.chackMsg.orderError : t.indexOf(e.pay_channel) < 0 ? r.chackMsg.channelError : void 0 } } }, function (e, t, n) { 'use strict'; e.exports = { v: '1.0.4' } }, function (e, t, n) { 'use strict'; function r (e) { this.value, this.status = 'pending', this.resolveFunc = function () {}, this.rejectFunc = function () {}, e(this.resolve.bind(this), this.reject.bind(this)) }r.prototype.resolve = function (e) { var t = this; this.status == 'pending' && (this.status = 'resolved', this.value = e, setTimeout(function () { t.resolveFunc(t.value) }, 0)) }, r.prototype.reject = function (e) { var t = this; this.status == 'pending' && (this.status = 'rejected', this.value = e, setTimeout(function () { t.rejectFunc(t.value) }, 0)) }, r.prototype.then = function (e, t) { var n = this; return new r(function (r, o) { function a () { var t = e(n.value); t && typeof t.then === 'function' ? t.then(r, o) : r(t) } function i () { var e = t(n.value); e && typeof e.then === 'function' ? e.then(r, o) : r(e) }n.resolveFunc = a, n.rejectFunc = i }) }, e.exports = r }, function (e, t, n) { 'use strict'; n(1), n(0); e.exports = { wapFunc: function (e) { var t = e.prod_mode === 'false' ? e.expend.pay_info + '?payment_id=' + e.id + '&pay_channel=' + e.pay_channel : e.expend.pay_info; window.location.href = 'alipays://platformapi/startapp?saId=10000007&qrcode=' + t }, liteFunc: function (e, t) { self = this, typeof AlipayJSBridge !== 'undefined' ? AlipayJSBridge.call('tradePay', { tradeNO: e }, function (e) { t(e) }) : void 0 !== this.ap ? this.ap.tradePay({ tradeNO: e }, function (e) { t(e) }) : self.loadAlipay().then(function (e) { e && self.liteFunc() }).catch(function (e) { console.error(e) }) }, loadAlipay: function () { return new Promise(function (e, t) { var n = document.createElement('script'); n.type = 'text/javascript', n.src = 'https://gw.alipayobjects.com/as/g/h5-lib/alipayjsapi/3.0.0/alipayjsapi.inc.min.js', n.onload = function () { e(!0) }, n.onerror = t, document.head.appendChild(n) }) }, handlePayResult: function () { return new Promise(function (e, t) { setTimeout(function () { e('支付成功') }, 5e3) }) } } }, function (e, t, n) {
    'use strict'; (function (e, n) {
      var r; var o; var a; var i = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? function (e) { return typeof e } : function (e) { return e && typeof Symbol === 'function' && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }; !(function (e, s) { i(t) === 'object' && i(n) === 'object' ? n.exports = s() : (o = [], r = s, void 0 !== (a = typeof r === 'function' ? r.apply(t, o) : r) && (n.exports = a)) }(0, function () {
        return (function (e) { function t (r) { if (n[r]) return n[r].exports; var o = n[r] = { exports: {}, id: r, loaded: !1 }; return e[r].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports } var n = {}; return t.m = e, t.c = n, t.p = '', t(0) }([function (e, t, n) { e.exports = n(1) }, function (e, t, n) { function r (e) { var t = new i(e); var n = a(i.prototype.request, t); return o.extend(n, i.prototype, t), o.extend(n, t), n } var o = n(2); var a = n(3); var i = n(5); var s = n(22); var u = n(11); var c = r(u); c.Axios = i, c.create = function (e) { return r(s(c.defaults, e)) }, c.Cancel = n(23), c.CancelToken = n(24), c.isCancel = n(10), c.all = function (e) { return Promise.all(e) }, c.spread = n(25), e.exports = c, e.exports.default = c }, function (e, t, n) { function r (e) { return E.call(e) === '[object Array]' } function o (e) { return E.call(e) === '[object ArrayBuffer]' } function a (e) { return typeof FormData !== 'undefined' && e instanceof FormData } function s (e) { return typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView ? ArrayBuffer.isView(e) : e && e.buffer && e.buffer instanceof ArrayBuffer } function u (e) { return typeof e === 'string' } function c (e) { return typeof e === 'number' } function f (e) { return void 0 === e } function p (e) { return e !== null && (void 0 === e ? 'undefined' : i(e)) === 'object' } function l (e) { return E.call(e) === '[object Date]' } function d (e) { return E.call(e) === '[object File]' } function h (e) { return E.call(e) === '[object Blob]' } function y (e) { return E.call(e) === '[object Function]' } function m (e) { return p(e) && y(e.pipe) } function g (e) { return typeof URLSearchParams !== 'undefined' && e instanceof URLSearchParams } function v (e) { return e.replace(/^\s*/, '').replace(/\s*$/, '') } function w () { return (typeof navigator === 'undefined' || navigator.product !== 'ReactNative' && navigator.product !== 'NativeScript' && navigator.product !== 'NS') && (typeof window !== 'undefined' && typeof document !== 'undefined') } function x (e, t) { if (e !== null && void 0 !== e) if ((void 0 === e ? 'undefined' : i(e)) !== 'object' && (e = [e]), r(e)) for (var n = 0, o = e.length; n < o; n++)t.call(null, e[n], n, e); else for (var a in e)Object.prototype.hasOwnProperty.call(e, a) && t.call(null, e[a], a, e) } function b () { function e (e, n) { i(t[n]) === 'object' && (void 0 === e ? 'undefined' : i(e)) === 'object' ? t[n] = b(t[n], e) : t[n] = e } for (var t = {}, n = 0, r = arguments.length; n < r; n++)x(arguments[n], e); return t } function _ () { function e (e, n) { i(t[n]) === 'object' && (void 0 === e ? 'undefined' : i(e)) === 'object' ? t[n] = _(t[n], e) : (void 0 === e ? 'undefined' : i(e)) === 'object' ? t[n] = _({}, e) : t[n] = e } for (var t = {}, n = 0, r = arguments.length; n < r; n++)x(arguments[n], e); return t } function S (e, t, n) { return x(t, function (t, r) { e[r] = n && typeof t === 'function' ? R(t, n) : t }), e } var R = n(3); var P = n(4); var E = Object.prototype.toString; e.exports = { isArray: r, isArrayBuffer: o, isBuffer: P, isFormData: a, isArrayBufferView: s, isString: u, isNumber: c, isObject: p, isUndefined: f, isDate: l, isFile: d, isBlob: h, isFunction: y, isStream: m, isURLSearchParams: g, isStandardBrowserEnv: w, forEach: x, merge: b, deepMerge: _, extend: S, trim: v } }, function (e, t) { e.exports = function (e, t) { return function () { for (var n = new Array(arguments.length), r = 0; r < n.length; r++)n[r] = arguments[r]; return e.apply(t, n) } } }, function (e, t) { /*!
    * Determine if an object is a Buffer
    *
    * @author   Feross Aboukhadijeh <https://feross.org>
    * @license  MIT
    */
          e.exports = function (e) { return e != null && e.constructor != null && typeof e.constructor.isBuffer === 'function' && e.constructor.isBuffer(e) }
        }, function (e, t, n) { function r (e) { this.defaults = e, this.interceptors = { request: new i(), response: new i() } } var o = n(2); var a = n(6); var i = n(7); var s = n(8); var u = n(22); r.prototype.request = function (e) { typeof e === 'string' ? (e = arguments[1] || {}, e.url = arguments[0]) : e = e || {}, e = u(this.defaults, e), e.method = e.method ? e.method.toLowerCase() : 'get'; var t = [s, void 0]; var n = Promise.resolve(e); for (this.interceptors.request.forEach(function (e) { t.unshift(e.fulfilled, e.rejected) }), this.interceptors.response.forEach(function (e) { t.push(e.fulfilled, e.rejected) }); t.length;)n = n.then(t.shift(), t.shift()); return n }, r.prototype.getUri = function (e) { return e = u(this.defaults, e), a(e.url, e.params, e.paramsSerializer).replace(/^\?/, '') }, o.forEach(['delete', 'get', 'head', 'options'], function (e) { r.prototype[e] = function (t, n) { return this.request(o.merge(n || {}, { method: e, url: t })) } }), o.forEach(['post', 'put', 'patch'], function (e) { r.prototype[e] = function (t, n, r) { return this.request(o.merge(r || {}, { method: e, url: t, data: n })) } }), e.exports = r }, function (e, t, n) { function r (e) { return encodeURIComponent(e).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']') } var o = n(2); e.exports = function (e, t, n) { if (!t) return e; var a; if (n)a = n(t); else if (o.isURLSearchParams(t))a = t.toString(); else { var i = []; o.forEach(t, function (e, t) { e !== null && void 0 !== e && (o.isArray(e) ? t += '[]' : e = [e], o.forEach(e, function (e) { o.isDate(e) ? e = e.toISOString() : o.isObject(e) && (e = JSON.stringify(e)), i.push(r(t) + '=' + r(e)) })) }), a = i.join('&') } if (a) { var s = e.indexOf('#'); s !== -1 && (e = e.slice(0, s)), e += (e.indexOf('?') === -1 ? '?' : '&') + a } return e } }, function (e, t, n) { function r () { this.handlers = [] } var o = n(2); r.prototype.use = function (e, t) { return this.handlers.push({ fulfilled: e, rejected: t }), this.handlers.length - 1 }, r.prototype.eject = function (e) { this.handlers[e] && (this.handlers[e] = null) }, r.prototype.forEach = function (e) { o.forEach(this.handlers, function (t) { t !== null && e(t) }) }, e.exports = r }, function (e, t, n) { function r (e) { e.cancelToken && e.cancelToken.throwIfRequested() } var o = n(2); var a = n(9); var i = n(10); var s = n(11); var u = n(20); var c = n(21); e.exports = function (e) { return r(e), e.baseURL && !u(e.url) && (e.url = c(e.baseURL, e.url)), e.headers = e.headers || {}, e.data = a(e.data, e.headers, e.transformRequest), e.headers = o.merge(e.headers.common || {}, e.headers[e.method] || {}, e.headers || {}), o.forEach(['delete', 'get', 'head', 'post', 'put', 'patch', 'common'], function (t) { delete e.headers[t] }), (e.adapter || s.adapter)(e).then(function (t) { return r(e), t.data = a(t.data, t.headers, e.transformResponse), t }, function (t) { return i(t) || (r(e), t && t.response && (t.response.data = a(t.response.data, t.response.headers, e.transformResponse))), Promise.reject(t) }) } }, function (e, t, n) { var r = n(2); e.exports = function (e, t, n) { return r.forEach(n, function (n) { e = n(e, t) }), e } }, function (e, t) { e.exports = function (e) { return !(!e || !e.__CANCEL__) } }, function (t, n, r) { function o (e, t) { !a.isUndefined(e) && a.isUndefined(e['Content-Type']) && (e['Content-Type'] = t) } var a = r(2); var i = r(12); var s = { 'Content-Type': 'application/x-www-form-urlencoded' }; var u = { adapter: (function () { var t; return void 0 !== e && Object.prototype.toString.call(e) === '[object process]' ? t = r(13) : typeof XMLHttpRequest !== 'undefined' && (t = r(13)), t }()), transformRequest: [function (e, t) { return i(t, 'Accept'), i(t, 'Content-Type'), a.isFormData(e) || a.isArrayBuffer(e) || a.isBuffer(e) || a.isStream(e) || a.isFile(e) || a.isBlob(e) ? e : a.isArrayBufferView(e) ? e.buffer : a.isURLSearchParams(e) ? (o(t, 'application/x-www-form-urlencoded;charset=utf-8'), e.toString()) : a.isObject(e) ? (o(t, 'application/json;charset=utf-8'), JSON.stringify(e)) : e }], transformResponse: [function (e) { if (typeof e === 'string') try { e = JSON.parse(e) } catch (e) {} return e }], timeout: 0, xsrfCookieName: 'XSRF-TOKEN', xsrfHeaderName: 'X-XSRF-TOKEN', maxContentLength: -1, validateStatus: function (e) { return e >= 200 && e < 300 } }; u.headers = { common: { Accept: 'application/json, text/plain, */*' } }, a.forEach(['delete', 'get', 'head'], function (e) { u.headers[e] = {} }), a.forEach(['post', 'put', 'patch'], function (e) { u.headers[e] = a.merge(s) }), t.exports = u }, function (e, t, n) { var r = n(2); e.exports = function (e, t) { r.forEach(e, function (n, r) { r !== t && r.toUpperCase() === t.toUpperCase() && (e[t] = n, delete e[r]) }) } }, function (e, t, n) { var r = n(2); var o = n(14); var a = n(6); var i = n(17); var s = n(18); var u = n(15); e.exports = function (e) { return new Promise(function (t, c) { var f = e.data; var p = e.headers; r.isFormData(f) && delete p['Content-Type']; var l = new XMLHttpRequest(); if (e.auth) { var d = e.auth.username || ''; var h = e.auth.password || ''; p.Authorization = 'Basic ' + btoa(d + ':' + h) } if (l.open(e.method.toUpperCase(), a(e.url, e.params, e.paramsSerializer), !0), l.timeout = e.timeout, l.onreadystatechange = function () { if (l && l.readyState === 4 && (l.status !== 0 || l.responseURL && l.responseURL.indexOf('file:') === 0)) { var n = 'getAllResponseHeaders' in l ? i(l.getAllResponseHeaders()) : null; var r = e.responseType && e.responseType !== 'text' ? l.response : l.responseText; var a = { data: r, status: l.status, statusText: l.statusText, headers: n, config: e, request: l }; o(t, c, a), l = null } }, l.onabort = function () { l && (c(u('Request aborted', e, 'ECONNABORTED', l)), l = null) }, l.onerror = function () { c(u('Network Error', e, null, l)), l = null }, l.ontimeout = function () { c(u('timeout of ' + e.timeout + 'ms exceeded', e, 'ECONNABORTED', l)), l = null }, r.isStandardBrowserEnv()) { var y = n(19); var m = (e.withCredentials || s(e.url)) && e.xsrfCookieName ? y.read(e.xsrfCookieName) : void 0; m && (p[e.xsrfHeaderName] = m) } if ('setRequestHeader' in l && r.forEach(p, function (e, t) { void 0 === f && t.toLowerCase() === 'content-type' ? delete p[t] : l.setRequestHeader(t, e) }), e.withCredentials && (l.withCredentials = !0), e.responseType) try { l.responseType = e.responseType } catch (t) { if (e.responseType !== 'json') throw t } typeof e.onDownloadProgress === 'function' && l.addEventListener('progress', e.onDownloadProgress), typeof e.onUploadProgress === 'function' && l.upload && l.upload.addEventListener('progress', e.onUploadProgress), e.cancelToken && e.cancelToken.promise.then(function (e) { l && (l.abort(), c(e), l = null) }), void 0 === f && (f = null), l.send(f) }) } }, function (e, t, n) { var r = n(15); e.exports = function (e, t, n) { var o = n.config.validateStatus; !o || o(n.status) ? e(n) : t(r('Request failed with status code ' + n.status, n.config, null, n.request, n)) } }, function (e, t, n) { var r = n(16); e.exports = function (e, t, n, o, a) { var i = new Error(e); return r(i, t, n, o, a) } }, function (e, t) { e.exports = function (e, t, n, r, o) { return e.config = t, n && (e.code = n), e.request = r, e.response = o, e.isAxiosError = !0, e.toJSON = function () { return { message: this.message, name: this.name, description: this.description, number: this.number, fileName: this.fileName, lineNumber: this.lineNumber, columnNumber: this.columnNumber, stack: this.stack, config: this.config, code: this.code } }, e } }, function (e, t, n) { var r = n(2); var o = ['age', 'authorization', 'content-length', 'content-type', 'etag', 'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since', 'last-modified', 'location', 'max-forwards', 'proxy-authorization', 'referer', 'retry-after', 'user-agent']; e.exports = function (e) { var t; var n; var a; var i = {}; return e ? (r.forEach(e.split('\n'), function (e) { if (a = e.indexOf(':'), t = r.trim(e.substr(0, a)).toLowerCase(), n = r.trim(e.substr(a + 1)), t) { if (i[t] && o.indexOf(t) >= 0) return; i[t] = t === 'set-cookie' ? (i[t] ? i[t] : []).concat([n]) : i[t] ? i[t] + ', ' + n : n } }), i) : i } }, function (e, t, n) { var r = n(2); e.exports = r.isStandardBrowserEnv() ? (function () { function e (e) { var t = e; return n && (o.setAttribute('href', t), t = o.href), o.setAttribute('href', t), { href: o.href, protocol: o.protocol ? o.protocol.replace(/:$/, '') : '', host: o.host, search: o.search ? o.search.replace(/^\?/, '') : '', hash: o.hash ? o.hash.replace(/^#/, '') : '', hostname: o.hostname, port: o.port, pathname: o.pathname.charAt(0) === '/' ? o.pathname : '/' + o.pathname } } var t; var n = /(msie|trident)/i.test(navigator.userAgent); var o = document.createElement('a'); return t = e(window.location.href), function (n) { var o = r.isString(n) ? e(n) : n; return o.protocol === t.protocol && o.host === t.host } }()) : (function () { return function () { return !0 } }()) }, function (e, t, n) { var r = n(2); e.exports = r.isStandardBrowserEnv() ? (function () { return { write: function (e, t, n, o, a, i) { var s = []; s.push(e + '=' + encodeURIComponent(t)), r.isNumber(n) && s.push('expires=' + new Date(n).toGMTString()), r.isString(o) && s.push('path=' + o), r.isString(a) && s.push('domain=' + a), !0 === i && s.push('secure'), document.cookie = s.join('; ') }, read: function (e) { var t = document.cookie.match(new RegExp('(^|;\\s*)(' + e + ')=([^;]*)')); return t ? decodeURIComponent(t[3]) : null }, remove: function (e) { this.write(e, '', Date.now() - 864e5) } } }()) : (function () { return { write: function () {}, read: function () { return null }, remove: function () {} } }()) }, function (e, t) { e.exports = function (e) { return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e) } }, function (e, t) { e.exports = function (e, t) { return t ? e.replace(/\/+$/, '') + '/' + t.replace(/^\/+/, '') : e } }, function (e, t, n) { var r = n(2); e.exports = function (e, t) { t = t || {}; var n = {}; return r.forEach(['url', 'method', 'params', 'data'], function (e) { void 0 !== t[e] && (n[e] = t[e]) }), r.forEach(['headers', 'auth', 'proxy'], function (o) { r.isObject(t[o]) ? n[o] = r.deepMerge(e[o], t[o]) : void 0 !== t[o] ? n[o] = t[o] : r.isObject(e[o]) ? n[o] = r.deepMerge(e[o]) : void 0 !== e[o] && (n[o] = e[o]) }), r.forEach(['baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer', 'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName', 'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'maxContentLength', 'validateStatus', 'maxRedirects', 'httpAgent', 'httpsAgent', 'cancelToken', 'socketPath'], function (r) { void 0 !== t[r] ? n[r] = t[r] : void 0 !== e[r] && (n[r] = e[r]) }), n } }, function (e, t) { function n (e) { this.message = e }n.prototype.toString = function () { return 'Cancel' + (this.message ? ': ' + this.message : '') }, n.prototype.__CANCEL__ = !0, e.exports = n }, function (e, t, n) { function r (e) { if (typeof e !== 'function') throw new TypeError('executor must be a function.'); var t; this.promise = new Promise(function (e) { t = e }); var n = this; e(function (e) { n.reason || (n.reason = new o(e), t(n.reason)) }) } var o = n(23); r.prototype.throwIfRequested = function () { if (this.reason) throw this.reason }, r.source = function () { var e; return { token: new r(function (t) { e = t }), cancel: e } }, e.exports = r }, function (e, t) { e.exports = function (e) { return function (t) { return e.apply(null, t) } } }]))
      }))
    }).call(t, n(9), n(10)(e))
  }, function (e, t, n) { 'use strict'; var r = n(2); var o = n(3); e.exports = { version: o.v, doPay: function (e, t) { return r.doPay(e, 120, t) } } }, function (e, t, n) { 'use strict'; var r = n(0); e.exports = { wxPay: function (e, t) { self = this, typeof WeixinJSBridge !== 'undefined' ? WeixinJSBridge.invoke('getBrandWCPayRequest', { appId: e.appId, timeStamp: e.timeStamp, nonceStr: e.nonceStr, package: e.package, signType: e.signType, paySign: e.paySign }, function (e) { t(e.err_msg == 'get_brand_wcpay_request:ok' ? r.payStatus.succeeded : e.err_msg == 'get_brand_wcpay_request:cancel' ? r.payStatus.cancel : r.payStatus.failed) }) : typeof wx !== 'undefined' ? wx.chooseWXPay({ timestamp: e.timeStamp, nonceStr: e.nonceStr, package: e.package, signType: e.signType, paySign: e.paySign, success: function (e) { t(r.payStatus.succeeded) }, cancel: function (e) { t(r.payStatus.cancel) }, fail: function (e) { t(r.payStatus.failed) } }) : self.loadWXPay().then(function (t) { t && self.wxPay(e) }).catch(function (e) { console.error(e) }) }, loadWXPay: function () { return new Promise(function (e, t) { var n = document.createElement('script'); n.type = 'text/javascript', n.src = 'https://res.wx.qq.com/open/js/jweixin-1.4.0.js', n.onload = function () { e(!0) }, n.onerror = t, document.head.appendChild(n) }) } } }, function (e, t) { function n () { throw new Error('setTimeout has not been defined') } function r () { throw new Error('clearTimeout has not been defined') } function o (e) { if (f === setTimeout) return setTimeout(e, 0); if ((f === n || !f) && setTimeout) return f = setTimeout, setTimeout(e, 0); try { return f(e, 0) } catch (t) { try { return f.call(null, e, 0) } catch (t) { return f.call(this, e, 0) } } } function a (e) { if (p === clearTimeout) return clearTimeout(e); if ((p === r || !p) && clearTimeout) return p = clearTimeout, clearTimeout(e); try { return p(e) } catch (t) { try { return p.call(null, e) } catch (t) { return p.call(this, e) } } } function i () { y && d && (y = !1, d.length ? h = d.concat(h) : m = -1, h.length && s()) } function s () { if (!y) { var e = o(i); y = !0; for (var t = h.length; t;) { for (d = h, h = []; ++m < t;)d && d[m].run(); m = -1, t = h.length }d = null, y = !1, a(e) } } function u (e, t) { this.fun = e, this.array = t } function c () {} var f; var p; var l = e.exports = {}; !(function () { try { f = typeof setTimeout === 'function' ? setTimeout : n } catch (e) { f = n } try { p = typeof clearTimeout === 'function' ? clearTimeout : r } catch (e) { p = r } }()); var d; var h = []; var y = !1; var m = -1; l.nextTick = function (e) { var t = new Array(arguments.length - 1); if (arguments.length > 1) for (var n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; h.push(new u(e, t)), h.length !== 1 || y || o(s) }, u.prototype.run = function () { this.fun.apply(null, this.array) }, l.title = 'browser', l.browser = !0, l.env = {}, l.argv = [], l.version = '', l.versions = {}, l.on = c, l.addListener = c, l.once = c, l.off = c, l.removeListener = c, l.removeAllListeners = c, l.emit = c, l.prependListener = c, l.prependOnceListener = c, l.listeners = function (e) { return [] }, l.binding = function (e) { throw new Error('process.binding is not supported') }, l.cwd = function () { return '/' }, l.chdir = function (e) { throw new Error('process.chdir is not supported') }, l.umask = function () { return 0 } }, function (e, t) { e.exports = function (e) { return e.webpackPolyfill || (e.deprecate = function () {}, e.paths = [], e.children || (e.children = []), Object.defineProperty(e, 'loaded', { enumerable: !0, get: function () { return e.l } }), Object.defineProperty(e, 'id', { enumerable: !0, get: function () { return e.i } }), e.webpackPolyfill = 1), e } }]))
}))
// # sourceMappingURL=adaPay.min.js.map
